---
import { ExperienceItem } from './ExperienceItem';
import { Container } from './Container';
import { SectionHeading } from './SectionHeading';

// Experience data array
const experiences = [
  {
    position: "Software Developer Intern",
    place: "2cW",
    contract: "Internship",
    location: "Remote",
    image: "/src/assets/2cw.jpg",
    dateRange: "Jul 2025 - now"
  },
  {
    position: "Software Developer",
    place: "Ever Technologies",
    contract: "B2B Contract",
    location: "Remote",
    image: "/src/assets/ever.png",
    dateRange: "Jan 2025 - Apr 2025"
  },
  {
    position: "Bachelor of Computer Science",
    place: "Maria Curie-Sk≈Çodowska University",
    location: "Lublin, Poland",
    image: "/src/assets/umcs.jpeg",
    dateRange: "2023 - now"
  }
];
---

<section id="experience" class="py-16 sm:py-20 md:py-24 relative overflow-hidden">
  <Container>
    <!-- Background decorative elements -->
    <div class="absolute top-0 left-1/4 w-72 h-72 bg-primary/5 rounded-full blur-3xl -z-10"></div>
    <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-green-200/20 rounded-full blur-3xl -z-10"></div>
    
    <div class="w-full flex flex-col">
      <!-- Header Section -->
      <div class="text-center mb-12 sm:mb-16 lg:mb-20">
        <SectionHeading>
          Experience & Education
        </SectionHeading>
        <p class="mt-4 sm:mt-6 max-w-2xl mx-auto sm:text-lg leading-relaxed text-gray-600">
          My journey through professional development and academic growth, 
          building expertise in modern software development practices.
        </p>
      </div>

      <!-- Timeline Container -->
      <div class="relative max-w-4xl mx-auto w-full experience-timeline">
        <!-- Timeline Line -->
        <div class="absolute left-6 sm:left-1/2 top-0 bottom-0 w-0.5 bg-gradient-to-b from-primary via-primary/60 to-transparent transform sm:-translate-x-px"></div>
        
        <!-- Experience Items -->
        <div class="space-y-8 sm:space-y-12">
          {experiences.map((experience, index) => (
            <div class={`timeline-item relative flex items-center ${index % 2 === 0 ? 'sm:flex-row' : 'sm:flex-row-reverse'} group`}>
              <!-- Timeline Dot -->
              <div class="timeline-dot absolute left-6 sm:left-1/2 w-3 h-3 bg-primary rounded-full border-4 border-white shadow-lg transform sm:-translate-x-1.5 z-10 group-hover:scale-125 transition-transform duration-300"></div>
              
              <!-- Content Card -->
              <div class={`ml-16 sm:ml-0 sm:w-1/2 ${index % 2 === 0 ? 'sm:pr-8' : 'sm:pl-8'}`}>
                <div class="experience-card">
                  <ExperienceItem 
                    position={experience.position}
                    place={experience.place}
                    contract={experience.contract}
                    location={experience.location}
                    image={experience.image}
                    dateRange={experience.dateRange}
                    isAlternate={index % 2 !== 0}
                  />
                </div>
              </div>
              
              <!-- Empty space for alternating layout on larger screens -->
              <div class="hidden sm:block sm:w-1/2"></div>
            </div>
          ))}
        </div>
        
        <!-- Timeline End Dot -->
        <div class="absolute left-6 sm:left-1/2 bottom-0 w-2 h-2 bg-gray-300 rounded-full transform sm:-translate-x-1 translate-y-8"></div>
      </div>
    </div>
  </Container>
</section>
